spring:
  application:
    name: goslint_judge_movil_backend
  datasource:
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:goslintdb}
    username: ${SPRING_DATASOURCE_USERNAME:goslint}
    password: ${SPRING_DATASOURCE_PASSWORD:${POSTGRES_PASSWORD:changeme}}
  docker:
    compose:
      enabled: false  # Desactiva el auto-arranque de Docker Compose para evitar fallos si Docker no está disponible
  # Clave para OpenRouter: se lee de variable de entorno OPENROUTER_API_KEY si existe
  # o del propio archivo si defines openrouter.api.key aquí.
  # Recomendado: usar variable de entorno y no commitear secretos.
openrouter:
  api:
    key: ${OPENROUTER_API_KEY:}
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    show-sql: false
server:
  port: ${SERVER_PORT:8080}
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: never
logging:
  level:
    org.hibernate.SQL: info
    org.hibernate.type.descriptor.sql: warn

# Perfil para tests locales: usa 'localhost' como host de la base de datos
---
spring:
  config:
    activate:
      on-profile: test
  datasource:
    url: jdbc:postgresql://localhost:5432/goslintdb
    username: ${SPRING_DATASOURCE_USERNAME:goslint}
    password: ${SPRING_DATASOURCE_PASSWORD:${POSTGRES_PASSWORD:changeme}}
    driver-class-name: org.postgresql.Driver
